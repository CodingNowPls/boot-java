# å­—æ®µå‘½ååˆ†æï¼šæœ€åç™»å½•ç§Ÿæˆ·IDå­—æ®µ

## å½“å‰å‘½ååˆ†æ

### å½“å‰å‘½å
- `backend_login_tenant_id` - åç«¯æœ€åç™»å½•ç§Ÿæˆ·ID
- `frontend_login_tenant_id` - å‰ç«¯æœ€åç™»å½•ç§Ÿæˆ·ID

### é—®é¢˜
1. **"åç«¯/å‰ç«¯"å®¹æ˜“æ··æ·†**ï¼šå®¹æ˜“ç†è§£ä¸ºæŠ€æœ¯å±‚é¢çš„å‰åç«¯ï¼Œè€Œä¸æ˜¯ä¸šåŠ¡å±‚é¢çš„ç®¡ç†åå°/ä¸šåŠ¡åå°
2. **è¯­ä¹‰ä¸æ¸…æ™°**ï¼šä¸èƒ½ç›´è§‚è¡¨è¾¾æ˜¯"ç®¡ç†åå°"è¿˜æ˜¯"ä¸šåŠ¡åå°"

---

## ç”¨æˆ·å»ºè®®åˆ†æ

### ç”¨æˆ·å»ºè®®
- "ç§Ÿæˆ·ç®¡ç†ç™»å½•" å¯¹åº” `backend_login_tenant_id`
- "ç§Ÿæˆ·ç™»å½•" å¯¹åº” `frontend_login_tenant_id`

### é—®é¢˜
1. **"ç§Ÿæˆ·ç®¡ç†ç™»å½•"å®¹æ˜“è¯¯è§£**ï¼š
   - å¯èƒ½è¢«ç†è§£ä¸º"ç®¡ç†ç§Ÿæˆ·çš„ç™»å½•"ï¼ˆç®¡ç†ç§Ÿæˆ·çš„åŠŸèƒ½ï¼‰
   - ä½†å®é™…æ˜¯"ç®¡ç†åå°çš„ç™»å½•"ï¼ˆç³»ç»Ÿç®¡ç†åŠŸèƒ½ï¼‰
   - è¯­ä¹‰ä¸å¤Ÿæ¸…æ™°

2. **"ç§Ÿæˆ·ç™»å½•"æ¯”è¾ƒæ¸…æ™°**ï¼š
   - æ˜ç¡®è¡¨ç¤º"ç§Ÿæˆ·ä¸šåŠ¡ç™»å½•"
   - è¯­ä¹‰æ¸…æ™°

---

## æ¨èå‘½åæ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šadmin/businessï¼ˆæ¨èâ­â­â­â­â­ï¼‰

**å­—æ®µå**ï¼š
- `admin_login_tenant_id` - ç®¡ç†åå°æœ€åç™»å½•ç§Ÿæˆ·ID
- `business_login_tenant_id` - ä¸šåŠ¡åå°æœ€åç™»å½•ç§Ÿæˆ·ID

**ä¼˜ç‚¹**ï¼š
- âœ… è¯­ä¹‰æ¸…æ™°ï¼Œä¸€ç›®äº†ç„¶
- âœ… ç¬¦åˆä¸šåŠ¡é€»è¾‘ï¼ˆç®¡ç†åå° vs ä¸šåŠ¡åå°ï¼‰
- âœ… ä¸ä»£ç ä¸­çš„ `isAdminLogin` ä¿æŒä¸€è‡´
- âœ… å­—æ®µåç®€æ´ï¼Œæ˜“äºç†è§£

**æ³¨é‡Š**ï¼š
```sql
ADD COLUMN `admin_login_tenant_id` varchar(50) DEFAULT NULL COMMENT 'ç®¡ç†åå°æœ€åç™»å½•ç§Ÿæˆ·ID' AFTER `login_date`,
ADD COLUMN `business_login_tenant_id` varchar(50) DEFAULT NULL COMMENT 'ä¸šåŠ¡åå°æœ€åç™»å½•ç§Ÿæˆ·ID' AFTER `admin_login_tenant_id`;
```

---

### æ–¹æ¡ˆäºŒï¼šsys/tenantï¼ˆæ¨èâ­â­â­â­ï¼‰

**å­—æ®µå**ï¼š
- `sys_login_tenant_id` - ç³»ç»Ÿç®¡ç†æœ€åç™»å½•ç§Ÿæˆ·ID
- `tenant_login_tenant_id` - ç§Ÿæˆ·ä¸šåŠ¡æœ€åç™»å½•ç§Ÿæˆ·ID

**ä¼˜ç‚¹**ï¼š
- âœ… è¯­ä¹‰æ¸…æ™°
- âœ… `sys` è¡¨ç¤ºç³»ç»Ÿç®¡ç†ï¼Œ`tenant` è¡¨ç¤ºç§Ÿæˆ·ä¸šåŠ¡
- âœ… ä¸ç³»ç»Ÿè®¾è®¡ä¸€è‡´ï¼ˆsysè¡¨ç¤ºç®¡ç†åå°ï¼‰

**ç¼ºç‚¹**ï¼š
- âš ï¸ `sys_login_tenant_id` å¯èƒ½è®©äººè¯¯è§£ä¸º"ç³»ç»Ÿç™»å½•"ï¼Œä½†å®é™…æ˜¯"ç®¡ç†åå°ç™»å½•"

**æ³¨é‡Š**ï¼š
```sql
ADD COLUMN `sys_login_tenant_id` varchar(50) DEFAULT NULL COMMENT 'ç³»ç»Ÿç®¡ç†æœ€åç™»å½•ç§Ÿæˆ·ID' AFTER `login_date`,
ADD COLUMN `tenant_login_tenant_id` varchar(50) DEFAULT NULL COMMENT 'ç§Ÿæˆ·ä¸šåŠ¡æœ€åç™»å½•ç§Ÿæˆ·ID' AFTER `sys_login_tenant_id`;
```

---

### æ–¹æ¡ˆä¸‰ï¼šmanagement/businessï¼ˆæ¨èâ­â­â­ï¼‰

**å­—æ®µå**ï¼š
- `management_login_tenant_id` - ç®¡ç†åå°æœ€åç™»å½•ç§Ÿæˆ·ID
- `business_login_tenant_id` - ä¸šåŠ¡åå°æœ€åç™»å½•ç§Ÿæˆ·ID

**ä¼˜ç‚¹**ï¼š
- âœ… è¯­ä¹‰éå¸¸æ¸…æ™°
- âœ… `management` æ˜ç¡®è¡¨ç¤º"ç®¡ç†åå°"

**ç¼ºç‚¹**ï¼š
- âš ï¸ å­—æ®µåè¾ƒé•¿

**æ³¨é‡Š**ï¼š
```sql
ADD COLUMN `management_login_tenant_id` varchar(50) DEFAULT NULL COMMENT 'ç®¡ç†åå°æœ€åç™»å½•ç§Ÿæˆ·ID' AFTER `login_date`,
ADD COLUMN `business_login_tenant_id` varchar(50) DEFAULT NULL COMMENT 'ä¸šåŠ¡åå°æœ€åç™»å½•ç§Ÿæˆ·ID' AFTER `management_login_tenant_id`;
```

---

### æ–¹æ¡ˆå››ï¼šç”¨æˆ·å»ºè®®çš„æ”¹è¿›ç‰ˆï¼ˆæ¨èâ­â­â­ï¼‰

**å­—æ®µå**ï¼š
- `tenant_admin_login_tenant_id` - ç§Ÿæˆ·ç®¡ç†åå°æœ€åç™»å½•ç§Ÿæˆ·ID
- `tenant_business_login_tenant_id` - ç§Ÿæˆ·ä¸šåŠ¡åå°æœ€åç™»å½•ç§Ÿæˆ·ID

**ä¼˜ç‚¹**ï¼š
- âœ… è¯­ä¹‰æ¸…æ™°
- âœ… ç¬¦åˆç”¨æˆ·ç†è§£ä¹ æƒ¯

**ç¼ºç‚¹**ï¼š
- âš ï¸ å­—æ®µåè¾ƒé•¿
- âš ï¸ `tenant_admin` å¯èƒ½è¿˜æ˜¯å®¹æ˜“è¯¯è§£

---

## ç»¼åˆæ¨è

### ğŸ† æœ€ä½³æ–¹æ¡ˆï¼šæ–¹æ¡ˆä¸€ï¼ˆadmin/businessï¼‰

**æ¨èç†ç”±**ï¼š
1. **è¯­ä¹‰æœ€æ¸…æ™°**ï¼š`admin` å’Œ `business` æ˜¯ä¸šç•Œé€šç”¨çš„æœ¯è¯­
2. **å­—æ®µåç®€æ´**ï¼šä¸ä¼šå¤ªé•¿
3. **ä¸ä»£ç ä¸€è‡´**ï¼šä¸ `isAdminLogin` ä¿æŒä¸€è‡´
4. **æ˜“äºç†è§£**ï¼šå¼€å‘äººå‘˜ä¸€çœ‹å°±æ‡‚

**æœ€ç»ˆå­—æ®µå**ï¼š
```sql
ALTER TABLE `sys_user` 
  ADD COLUMN `is_sys` char(1) DEFAULT '0' COMMENT 'æ˜¯å¦ç³»ç»Ÿç”¨æˆ·ï¼ˆ0å¦ 1æ˜¯ï¼‰' AFTER `user_type`,
  ADD COLUMN `admin_login_tenant_id` varchar(50) DEFAULT NULL COMMENT 'ç®¡ç†åå°æœ€åç™»å½•ç§Ÿæˆ·ID' AFTER `login_date`,
  ADD COLUMN `business_login_tenant_id` varchar(50) DEFAULT NULL COMMENT 'ä¸šåŠ¡åå°æœ€åç™»å½•ç§Ÿæˆ·ID' AFTER `admin_login_tenant_id`;
```

---

## å‘½åå¯¹æ¯”è¡¨

| æ–¹æ¡ˆ | ç®¡ç†åå°å­—æ®µå | ä¸šåŠ¡åå°å­—æ®µå | è¯­ä¹‰æ¸…æ™°åº¦ | å­—æ®µé•¿åº¦ | æ¨èåº¦ |
|------|--------------|--------------|-----------|---------|--------|
| å½“å‰å‘½å | `backend_login_tenant_id` | `frontend_login_tenant_id` | â­â­ | ä¸­ç­‰ | â­â­ |
| ç”¨æˆ·å»ºè®® | `tenant_admin_login_tenant_id` | `tenant_business_login_tenant_id` | â­â­â­ | è¾ƒé•¿ | â­â­â­ |
| æ–¹æ¡ˆä¸€ | `admin_login_tenant_id` | `business_login_tenant_id` | â­â­â­â­â­ | é€‚ä¸­ | â­â­â­â­â­ |
| æ–¹æ¡ˆäºŒ | `sys_login_tenant_id` | `tenant_login_tenant_id` | â­â­â­â­ | é€‚ä¸­ | â­â­â­â­ |
| æ–¹æ¡ˆä¸‰ | `management_login_tenant_id` | `business_login_tenant_id` | â­â­â­â­â­ | è¾ƒé•¿ | â­â­â­ |

---

## å»ºè®®

**æ¨èä½¿ç”¨æ–¹æ¡ˆä¸€ï¼š`admin_login_tenant_id` å’Œ `business_login_tenant_id`**

**ç†ç”±**ï¼š
1. è¯­ä¹‰æœ€æ¸…æ™°ï¼Œç¬¦åˆä¸šåŠ¡é€»è¾‘
2. å­—æ®µåç®€æ´ï¼Œä¸ä¼šå¤ªé•¿
3. ä¸ä»£ç ä¸­çš„ `isAdminLogin` ä¿æŒä¸€è‡´
4. ä¸šç•Œé€šç”¨æœ¯è¯­ï¼Œæ˜“äºç†è§£

**å¦‚æœç”¨æˆ·åšæŒä½¿ç”¨"ç§Ÿæˆ·ç®¡ç†ç™»å½•"çš„æ¦‚å¿µï¼Œå¯ä»¥è€ƒè™‘**ï¼š
- `tenant_admin_login_tenant_id` - ç§Ÿæˆ·ç®¡ç†åå°æœ€åç™»å½•ç§Ÿæˆ·ID
- `tenant_business_login_tenant_id` - ç§Ÿæˆ·ä¸šåŠ¡åå°æœ€åç™»å½•ç§Ÿæˆ·ID

ä½†å­—æ®µåä¼šè¾ƒé•¿ï¼Œå»ºè®®ä½¿ç”¨æ–¹æ¡ˆä¸€ã€‚

